{% extends "base.html" %}

{% block title %}
 - Add Event
{% endblock %}

{% block body %}
    <div class="container">
        <div >
          <div class="row mt-5 mb-5">
            <div class="col">
              <br> <br> <br>
              {% if error %}
               <h3>{{error}}  </h3>
               {% endif %} <br><br>
              <h5>{% if type == 'update' %}Update{% else %}Add{% endif %} Event</h5>
              <form class="mt-3" method="POST">
                {% from "_formhelper.html" import render_field %}
                {{ form.csrf_token }}
                <div class="row">
                    {% if type == 'update'%}
                        <div class="col">
                            <div class="form-group">
                                <label for="title">Title</label>
                                {{ render_field(form.title, class="form-control", id="title", value=event.title) }}
                            </div>
                            <div class="form-group">
                                <label for="genre">Genre</label>
                                {{ render_field(form.genre, class="form-control", id="genre", value=event.genre) }}
                            </div>
                            <div class="form-group">
                                <label for="category">Category</label>
                                {{ render_field(form.category, class="form-control", id="category", value=event.category) }}
                            </div>
                            <div class="form-group">
                                <label for="price">Price</label>
                                {{ render_field(form.price,class="form-control",id="price", type="number", step="0.01", min="0.00", value=event.price)}}
                            </div>
                            <div class="form-group">
                                <label for="status">Status</label>
                                {{ render_field(form.status, class="form-select",id="status", value=event.status) }}
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="date">Date</label>
                                {{ render_field(form.date,class="form-control",id="date", value=event.start_date) }}
                            </div>
                            <div class="form-group">
                                <label for="time">Time</label>
                                {{ render_field(form.time,class="form-control",id="time", value=event.start_time) }}
                            </div>
                            <div class="form-group">
                                <label for="notCertainTime">Time is not certain</label>
                                {{ render_field(form.notCertainTime,class="checkbox", id="notCertainTime", value=event.no_start_time) }}
                            </div>
                            <div class="form-group">
                                <label for="venue">Venue</label>
                                {{ render_field(form.venue, class="form-select",id="venue") }}
                            </div>
                            <div class="form-group">
                                <label for="image">Image</label>
                                {{ render_field(form.image, class="form-select",id="image")}}
                            </div>
                        </div>
                    {% else %}
                        <div class="col">
                            <div class="form-group">
                                <label for="title">Title</label>
                                {{ render_field(form.title, class="form-control", placeholder="Title",id="title") }}
                            </div>
                            <div class="form-group">
                                <label for="genre">Genre</label>
                                {{ render_field(form.genre, class="form-control", placeholder="Genre",id="genre") }}
                            </div>
                            <div class="form-group">
                                <label for="category">Category</label>
                                {{ render_field(form.category, class="form-control", placeholder="Category",id="category") }}
                            </div>
                            <div class="form-group">
                                <label for="price">Price</label>
                                {{ render_field(form.price,class="form-control",id="price", type="number", step="0.01", min="0.00")}}
                            </div>
                            <div class="form-group">
                                <label for="status">Status</label>
                                {{ render_field(form.status, class="form-select",id="status") }}
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="date">Date</label>
                                {{ render_field(form.date,class="form-control",id="date") }}
                            </div>
                            <div class="form-group">
                                <label for="time">Time</label>
                                {{ render_field(form.time,class="form-control",id="time") }}
                            </div>
                            <div class="form-group">
                                <label for="notCertainTime">Time is not certain</label>
                                {{ render_field(form.notCertainTime,class="checkbox", id="notCertainTime") }}
                            </div>
                            <div class="form-group">
                                <label for="venue">Venue</label>
                                {{ render_field(form.venue, class="form-select",id="venue") }}
                            </div>
                            <div class="form-group">
                                <label for="image">Image</label>
                                {{ render_field(form.image, class="form-select",id="image")}}
                            </div>
                        </div>
                    {% endif %}
                    
                </div>
                {% for msg in messages %}
                    <h2 style="color:red; margin-bottom: 10px;">{{ msg }}</h2>
                {% endfor %}
                <button type="submit" class="btn btn-primary">
                    {% if  type == 'update' %}
                    Update Event
                    {% else %}
                    Add Event
                    {% endif %}
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
{% endblock %}